<!DOCTYPE html>
<html lang="pt" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
<meta http-equiv="Content-Type" content="text/html; charset= UTF-8">
<title>Checkout</title>
<link rel="stylesheet" href="css/custom.css">
<link th:href="@{/webjars/bootstrap/4.4.1/css/bootstrap.min.css}"
	rel="stylesheet">
<link th:href="@{/webjars/font-awesome/5.12.0/css/all.css}" rel="stylesheet" />

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
<body>

	
<script type="text/javascript">
function SomenteNumero(e)
{
 			var tecla=(window.event)?event.keyCode:e.which;   
 			
    if((tecla>47 && tecla<58)) 
    	return true;
    else
    {
    	if (tecla==8 || tecla==0) return true;
	else  
		return false;
  		}
}

function confirmarExclusao(e) 
{
	textoExclusao = 'Posso remover '
		+ e + ' da base de dados?'

	if (!confirm(textoExclusao)) 
	{
		return false;
	} else
	{
		return true;
	}
}

function Checkradiobutton()
{ 
   if(document.getElementById('r3').checked)
   { 
  	 document.getElementById('cc-name').disabled=true; 
  	 document.getElementById('cc-number').disabled=true;
  	 document.getElementById('cadastro_nascimento').disabled=true;
  	 document.getElementById('cc-cvv').disabled=true;
  	 document.getElementById('cc-parcelas').disabled=true;
   }
   else
   { 
  	 document.getElementById('cc-name').disabled=false; 
  	 document.getElementById('cc-number').disabled=false;
  	 document.getElementById('cadastro_nascimento').disabled=false;
  	 document.getElementById('cc-cvv').disabled=false; 	
  	 if(document.getElementById('r2').checked)
     {
  		 document.getElementById('cc-parcelas').disabled=true;	
     }
  	 else
  	 {
  		document.getElementById('cc-parcelas').disabled=false;	 
  	 }
  	
   }
}
</script>

	<nav class="navbar navbar-expand-lg navbar-dark" style="background-color:#26004d;">
		<a class="navbar-brand" href="Index.jsp">
		   <img src="img/LogoFanFigure.png" width="auto" height="auto">
	       </a>
		  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
		    <span class="navbar-toggler-icon"></span>
		  </button>
		
		  <div class="collapse navbar-collapse" id="navbarSupportedContent">
		    <ul class="navbar-nav mr-auto">
		      <li class="nav-item active">
		        <a class="nav-link" href="/inicio">Catálogo <span class="sr-only"></span></a>
		      </li>	  
		      <li class="nav-item active">    
		      <a class="nav-link" href="/Checkout">Teste Checkout <span class="sr-only"></span></a>
		       </li>	
		    </ul>
		      
		      <th:block sec:authorize="isAuthenticated()">
		      
			      <div class="nav-item dropdown" sec:authorize="hasRole('ROLE_CLIENTE')">
			        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			          Meus dados
			        </a>
			        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			          <a class="dropdown-item" href="/carrinhoDeCompras">Meu carrinho</a>
			          <a class="dropdown-item" href="/MeusPedidos">Minhas compras</a>
			          <div class="dropdown-divider"></div>
			          <a class="dropdown-item" href="/cliente/MeusDados">Informações pessoais</a>
			          <a class="dropdown-item" href="/endereco/novo">Cadastrar novo endereço</a>
			        </div>
			      </div>
		      		
			      <li class="nav-item dropdown" sec:authorize="hasRole('ROLE_ADMINISTRADOR')">
			        <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			          Cadastros
			        </a>
			        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			          <a class="dropdown-item" href="/produto/Admin/novo">Cadastro de produtos</a>
			          <a class="dropdown-item" href="/fornecedor/Admin/novo">Cadastro de fornecdor</a>	          
			          <a class="dropdown-item" href="/cliente/Admin/novo">Cadastro de usuários</a>	          
			        </div>		        
			      </li>	
			      <li class="nav-item dropdown" sec:authorize="hasRole('ROLE_ADMINISTRADOR')">
			        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			          Gerenciamentos
			        </a>
			        <div class="dropdown-menu" aria-labelledby="navbarDropdown">
			          <a class="dropdown-item" href="/produto/Admin/listar">listar produtos</a>
			          <a class="dropdown-item" href="/cliente/Admin/listar">listar usuários</a>
			          <a class="dropdown-item" href="/fornecedor/Admin/listar">listar Fornecedores</a>         
			        </div>		        
			      </li>	
		            
				<form class="form-inline my-2 my-lg-0 user_name" th:action="@{/logout}" method="post">
					<i class="far fa-user"></i>&nbsp;
					<div th:text="${#authentication.principal.usuario.nome_cliente}"></div>
					&nbsp;
					<button type="submit" class="btn btn-secondary my-2 my-sm-0">
						<i class="fas fa-sign-out-alt"></i>&nbsp;Sair
					</button>
				</form>
			</th:block>
			
			
			<th:block sec:authorize="isAnonymous()">
				<a class="nav-link" href="/cliente/novo">
					<i class="fas fa-user-plus"></i>
					Cadastrar
				</a>
				<a class="nav-link" href="/login">
					<i class="fa fa-user icon"></i>
					Login
				</a>
			</th:block>
		  </div>
	</nav>

	<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	  <ol class="carousel-indicators">
	    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
	    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
	    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
	    <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
	  </ol>
	  <div class="carousel-inner">
	    <div class="carousel-item active">
	      <img th:src="@{/img/BannerIMG1.jpg}" class="d-block w-100 " alt="...">
	    </div>
	    <div class="carousel-item">
	      <img th:src="@{/img/BannerIMG2.jpg}" class="d-block w-100 " alt="...">
	    </div>
	    <div class="carousel-item">
	      <img th:src="@{/img/BannerIMG3.jpg}" class="d-block w-100" alt="...">
	    </div>
	    <div class="carousel-item">
	      <img th:src="@{/img/BannerIMG4.jpg}" class="d-block w-100" alt="...">
	    </div>
	  </div>
	  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
	    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
	    <span class="sr-only">Previous</span>
	  </a>
	  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
	    <span class="carousel-control-next-icon" aria-hidden="true"></span>
	    <span class="sr-only">Next</span>
	  </a>
	</div>
	
	<div class="jumbotron">
	<section id="Main Theme" class="container-fluid">
        <div class="row">
        	<div class="col-md-4 order-md-2 mb-4" >
			          <h4 class="d-flex justify-content-between align-items-center mb-3" th:text="${'Total R$: ' + precototal + ',00'}">
			           <!--  <span class="badge badge-secondary badge-pill">3</span>--> 
			          </h4>
			          <ul class="list-group mb-3" th:each="carrinho: ${carrinho}">
			         
				            <li class="list-group-item d-flex justify-content-between lh-condensed">
				              <div>
				                <h6 class="my-0"></h6>
				                <small class="text-muted" th:text="${carrinho.nome_produto}"></small>
				              </div>
				              <span class="text-muted" th:text="${carrinho.valor_totalProd}"></span>
				            </li>
			          </ul> 
			          <br>
			          
			          <h5 class="text-dark">Ainda não terminou? clique <a href="/inicio">aqui</a> para continuar comprando.</h5>
			          <br>
			 </div>
			 
        	 <div class="col-md-6 order-md-1 offset-1">	 
	        	 <h4 class="d-flex justify-content-between align-items-center mb-3">
	        	 <span class="text-dark">Checkout</span>   
	        	 </h4>      
	        	 
		          <form method="POST" th:object="${venda}" th:action="@{/Checkout/salvar}" class="form-group">			
		            <hr class="mb-4">
		            <div>
		              <h6 class="text-dark">Selecione o endereço de entrega:</h6>
		              <br><!-- Aqui carregar os dados do objeto enderecos e tambem carregar para o objeto vendas na hora de finalizar -->
		              <select class="form-control" name="id_endereco" required="true" th:field="*{id_endereco}">
					    	<option th:each="end : ${endereco}" th:value="${end.id_endereco}" th:utext="${end.Endereco + ', ' + end.Numero}"></option>										
					  </select>
		            </div>
		            <hr class="mb-4">
		
		            <h4 class="mb-3 text-dark" >Dados pagamento</h4>
					<input type="radio" th:field="*{forma_pagamento}" th:value="cc" id="r1" name="position" onclick="Checkradiobutton()"> Pagamento Cartão crédito
					<input type="radio" th:field="*{forma_pagamento}" th:value="cd" id="r2" name="position" onclick="Checkradiobutton()"> Pagamento Cartão débito
					<input type="radio" th:field="*{forma_pagamento}" th:value="bo" id="r3" name="position" onclick="Checkradiobutton()"> Pagamento boleto
					<br>
					<br>
					
					<br>
		            <div class="row">
		              <div class="col-md-6 mb-3">
		                <label for="cc-name" class="text-dark">Nome no cartão</label>
		                <input type="text" class="form-control"  id="cc-name" required="true" maxlength="50" name="nomecartao">
		                <small class="text-dark">Full name as displayed on card</small>
		                <div class="invalid-feedback">
		                  Name on card is required
		                </div>
		              </div>
		              <div class="col-md-6 mb-3">
		                <label for="cc-number" class="text-dark">Número do cartão</label>
		                <input type="text" class="form-control" id="cc-number" required="true" maxlength="16" onkeypress='return SomenteNumero(event)' name="numerocartao">
		                <div class="invalid-feedback">
		                  Credit card number is required
		                </div>
		              </div>
		            </div>
		            <div class="row">
		              <div class="col-md-6 mb-3">
		                <label for="cc-expiration" class="text-dark">Data validade</label>
		                 <input type="date" class="form-control" id="cadastro_nascimento" name="datavalidadecartao">
		                <div class="invalid-feedback">
		                  Expiration date required
		                </div>
		              </div>
		              <div class="col-md-6 mb-3">
		                <label for="cc-expiration" class="text-dark">CVV</label>
		                <input type="text" class="form-control" id="cc-cvv" required="true" maxlength="3" onkeypress='return SomenteNumero(event)' name="cvv">
		                <div class="invalid-feedback">
		                  Security code required
		                </div>
		              </div>
		              
		              <div class="col-md-6 mb-3">
		                <label for="cc-expiration" class="text-dark">Número de parcelas</label>
		                <select class="form-control" id="cc-parcelas" required="true" th:field="*{numero_parcelas}">
					    	<option th:value="1">1x sem juros</option>
							<option th:value="2">2x sem juros</option>
							<option th:value="3">3x sem juros</option>
							<option th:value="4">4x sem juros</option>
							<option th:value="5">5x sem juros</option>
							<option th:value="6">6x sem juros</option>
							<option th:value="7">7x sem juros</option>
							<option th:value="8">8x sem juros</option>
							<option th:value="9">9x sem juros</option>
							<option th:value="10">10x sem juros</option>
							<option th:value="11">11x sem juros</option>
							<option th:value="12">12x sem juros</option>																		
					  </select>
		              </div>
		            </div>
		            <hr class="mb-4">
		            
		           <input type="submit" value="Finalizar a compra" id="submit" class="btn btn-primary btn-lg float-right" />
		            
		          </form>
		          
			 </div>
		</div>
    </section>
</div>

<!-- Footer -->
<footer class="page-footer font-small mdb-color lighten-3 pt-4" style="background-color:#26004d;">

    <!-- Footer Links -->
    <div class="container text-center text-md-left">

      <!-- Grid row -->
      <div class="row">

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 mr-auto my-md-4 my-0 mt-4 mb-1">

          <!-- Content -->
          <h5 class="font-weight-bold text-uppercase mb-4 text-white">Loja</h5>
          <h5 class="text-white">A FanFigures é especializada na venda de artigos colecionáveis pela internet e tem alcançado cada vez mais clientes em todas as regiões do Brasil, sendo considerada uma referência nacional e uma das lojas mais respeitadas no segmento de colecionáveis.</h5>         

        </div>
        <!-- Grid column -->

        <hr class="clearfix w-100 d-md-none">

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 mx-auto my-md-4 my-0 mt-4 mb-1">

          <!-- Links -->
          <h5 class="font-weight-bold text-uppercase mb-4 text-white">Sobre</h5>

          <ul class="list-unstyled">
            <li>
              
                <h5><a href="Confiavel.jsp" class="text-white">FanFigures é confiável?</a></h5>
             
            </li>
            <li>
              
                <h5><a href="Sobrenos.jsp" class="text-white">Sobre nós</a></h5>
              
            </li>
            <li>
              
                <h5><a href="Politica.jsp" class="text-white">Politicas de Compra e Segurança</a></h5>
              
            </li>
            <li>
             
                <h5><a href="contato.jsp" class="text-white">Contato</a></h5>
              
            </li>
          </ul>

        </div>
        <!-- Grid column -->

        <hr class="clearfix w-100 d-md-none text-white">

        <!-- Grid column -->
        <div class="col-md-4 col-lg-3 mx-auto my-md-4 my-0 mt-4 mb-1">

          <!-- Contact details -->
          <h5 class="font-weight-bold text-uppercase mb-4 text-white">Endereço</h5>

          <ul class="list-unstyled text-white">
            <li>
              <p>
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3654.4059512609138!2d-46.53186998545878!3d-23.661436384633237!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94ce42890bca2dff%3A0x35bf8a86b5a032b3!2zQ29sw6lnaW8gUGVudMOhZ29ubw!5e0!3m2!1spt-BR!2sbr!4v1557808951632!5m2!1spt-BR!2sbr" width="300" height="" ></iframe>
            </li>
            <li>
              
                <h5><i class="fas fa-envelope mr-3"></i> FanFiguresLoja@gmail.com</h5>
            </li>
            <li>
             
                <h5><i class="fas fa-print mr-3"></i> +55 11 6841-8448</h5>
            </li>
            <li>
              
                <h5><i class="fas fa-print mr-3 "></i> +55 11 9875-2154</h5>
            </li>
          </ul>

        </div>
        <!-- Grid column -->

        <hr class="clearfix w-100 d-md-none">

        <!-- Grid column -->
        <div class="col-md-2 col-lg-2 text-center mx-auto my-4">

          <!-- Social buttons -->
          <h4 class="font-weight-bold text-uppercase mb-4 text-white">Siga-nos</h4>

         
          
            <!-- facebook -->
            <a href="https://www.facebook.com"><img src="img/facebook.png" width="50" height="50" alt="Facebook"></a>             
            
      		<!-- youtube -->
      		<a href="https://www.youtube.com"><img src="img/youtube.png" width="50" height="50" alt="youtube"></a>
      		
      		<!-- gmail -->
      		<a href="https://www.gmail.com"><img src="img/gmail.png" width="50" height="50" alt="gmail"></a><br>
      		
      		 <img src="https://api.siteblindado.com/v1/seal/aw/fantoy.com.br/seal.png">
      		
      		 <img src="img/bandeiras-mercadopago.png">
      		 
      		 <img src="img/selo-bis2bis_1.png" class="img-responsive">
      		 
      		 <img src="img/cartao1.png" class="img-responsive">
      		 
      		  <img src="img/entrega.png" class="img-responsive">

        </div>
        <!-- Grid column -->

      </div>
      <!-- Grid row -->

    </div>
    <!-- Footer Links -->

    <!-- Copyright -->
    <h5 class="footer-copyright text-center py-3 text-white">© 2019 FANFINGURES COLECIONÁVEIS. CNPJ: 15.126.747/0001-68</h5>
    
    <!-- Copyright -->

  </footer>	
 

    <script src="static/js/jquery-3.3.1.slim.min.js}"></script>
    <script src="static/js/popper.min.js"}></script>
    <script src="static/bootstrap/js/bootstrap.bundle.min.js}"></script>

</body>
</html>